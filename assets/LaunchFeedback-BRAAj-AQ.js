import{q as U,_ as $,o as m,c as h,a as e,i as A,w as I,b as r,s as b,F,A as D,e as i,v as f,L as V,B as M,x as P,r as u,l as E,k as L,m as z,d as B,t as g}from"./index-7Lco6EK6.js";import{s as j}from"./sweetAlert2Store-H3nWfkeB.js";import{l as O}from"./launchStore-paQBQFdj.js";import{m as N}from"./mixinFullScreenLoading-9dNja2ki.js";import{L as J}from"./LaunchNav-a4_NV_j4.js";import{m as q,C as R}from"./CameraIcon-RCjJIVVY.js";import{m as H}from"./mixinVeeValidate-9jaP4wJ9.js";import{P as Q}from"./PlusIcon-wCtBc71q.js";var W={VITE_URL:"https://api.dreamboost.shop",VITE_WEIKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RlbWFpbEBnbWFpbC5jb20iLCJ1c2VySUQiOiIzYTU4MjBhZi1iN2JlLTRkODMtOWM2My1kNmY1MWI2YmExMDEiLCJpYXQiOjE3MDg5Mzk5MDcsImV4cCI6MTcxMTUzMTkwN30.BbIXGVkQOU2HqsiCg6UcwFZx-kBd7kdOP24kUD21c1M",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{successAlert:S,errorAlert:k,confirmAlert:Y}=j(),{VITE_URL:x}=W;function v(){return sessionStorage.getItem("launchID")}const C=U("feedbackStore",{state:()=>({feedbackSet:{}}),actions:{getFeedback(){this.$http.get(`${x}/dreamboost/proposal/admin/feedbacks?proposalID=${v()}`).then(a=>{this.feedbackSet=a.data.data.result}).catch(a=>{k(a.response.data.message),this.$router.push("/launch")})},async postFeedback(a){let t;try{const c=await this.$http.post(`${x}/dreamboost/proposal/normal/feedback?proposalID=${v()}`,a);this.getFeedback(),S("已新增回饋"),t=c.data.success}catch(c){k(c.response.data.message)}return t},async putFeedback(a,t){let c;try{const y=await this.$http.put(`${x}/dreamboost/proposal/admin/feedback/${t}?proposalID=${v()}`,a);this.getFeedback(),S("成功修改回饋"),c=y.data.success}catch(y){k(y.response.data.message)}return c},deleteFeedback(a){Y("確定要刪除嗎").then(t=>{t.isConfirmed&&this.$http.delete(`${x}/dreamboost/proposal/admin/feedback/${a}?proposalID=${v()}`).then(()=>{S("成功刪除提案"),this.getFeedback()}).catch(c=>{k(c.response.data.message)})})}}}),G={props:["tempData"],mixins:[q,H,N],data(){return{feedbackModal:null,copyTempData:{},showForm:!1}},methods:{saveFeedback(){this.$emit("feedback-handler",this.copyTempData)},async imageHandler(a){this.showFullScreenLoading(),this.copyTempData.feedbackImage=await this.uploadImage(a),this.hideFullScreenLoading()},openModal(){this.feedbackModal.show(),this.showForm=!this.showForm},closeModal(){this.feedbackModal.hide(),setTimeout(()=>{this.showForm=!this.showForm},500)}},mounted(){this.feedbackModal=new this.$bs.Modal(this.$refs.feedbackInfoModal,{backdrop:"static"})},watch:{tempData(){this.copyTempData=JSON.parse(JSON.stringify(this.tempData))}},components:{CameraIcon:R}},X={class:"modal fade",id:"staticBackdrop",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",ref:"feedbackInfoModal"},Z={class:"modal-dialog modal-dialog-centered modal-xl"},K={class:"modal-content"},ee={class:"modal-header flex-column row-gap-3 border-0"},te=e("h1",{class:"modal-title fs-3 text-primary fw-normal"},"編輯回饋資訊",-1),se={class:"row gy-4 mb-10"},oe={class:"col-lg-6"},ae={class:"mb-4"},le=e("label",{for:"feedbackName",class:"form-label"},[i(" 回饋名稱 "),e("span",{class:"text-danger"}," * ")],-1),de={class:"mb-4"},re=e("label",{for:"feedbackPrice",class:"form-label"},[i(" 回饋金額 "),e("span",{class:"text-danger"}," * ")],-1),ie=e("p",{class:"fs-6 text-gray-400"},"最低金額為 $100 元",-1),ce={class:"mb-4"},ne=e("label",{for:"abstract",class:"form-label"},[i(" 內容摘要 "),e("span",{class:"text-danger"}," * ")],-1),pe={class:"mb-4"},be=e("label",{for:"shippingArea",class:"form-label"},[i(" 寄送區域 "),e("span",{class:"text-danger"}," * ")],-1),me=e("option",{value:"",selected:"",disabled:""},"請選擇一個區域",-1),ue=e("option",{value:"台灣"},"台灣",-1),he=e("label",{for:"shippingTime",class:"form-label"},[i(" 預計寄送時間 "),e("span",{class:"text-danger"}," * ")],-1),ye={class:"col-lg-6 d-flex flex-column"},fe={class:"mb-4"},ge=e("label",{for:"feedbackTitle",class:"form-label"},[i(" 回饋標題 "),e("span",{class:"text-danger"}," * ")],-1),_e=e("p",null,[i(" 回饋封面 "),e("span",{class:"text-danger"}," * ")],-1),ke=["src"],xe=e("p",null," 請提供 JPEG 或 PNG 檔，圖片尺寸至少 1200x 800 PX (3:2)； 2MB 以內。 ",-1),ve={style:{width:"20px","margin-top":"-2px"}},we={class:"mt-auto"},Te=e("label",{for:"feedbackQtyText",class:"form-label"},"回饋數量限制 ",-1),De={class:"input-group border-primary-light"},Me={class:"input-group-text gap-1 py-3 bg-transparent border-primary-light"},Se=e("label",{for:"feedbackQty",class:"text-gray-400 lh-1"},"限量 ",-1),Fe=["disabled"],$e={class:"mb-10"},Ie=e("label",{for:"feedbackTime",class:"form-label fw-medium me-2 mb-0"}," 限時回饋設定 ",-1),Ve=e("label",{for:"feedbackTime",class:"form-label mb-0"}," 啟用限時回饋 ",-1),Le={class:"row gy-3 mb-13"},Ce={class:"col-lg-6"},Ne=e("label",{for:"startDate",class:"form-label mb-3"},"開始時間",-1),Ue=e("div",{class:"input-group"},[e("span",{class:"input-group-text py-3 border-primary-light bg-transparent",id:"startTime"},"開始時間 "),e("input",{type:"time",class:"form-control py-3 border-primary-light",id:"startTime"})],-1),Ae={class:"col-lg-6"},Pe=e("label",{for:"endDate",class:"form-label mb-3"},"結束日期",-1),Ee=e("div",{class:"input-group"},[e("span",{class:"input-group-text py-3 border-primary-light bg-transparent",id:"endTime"},"結束時間"),e("input",{type:"time",class:"form-control py-3 border-primary-light",id:"endTime"})],-1),ze={class:"row gy-3 justify-content-end"},Be={class:"col-lg-3"},je=e("div",{class:"col-lg-3"},[e("button",{type:"submit",class:"btn btn-primary px-0 w-100"}," 儲存回饋 ")],-1);function Oe(a,t,c,y,s,d){const n=u("VField"),p=u("ErrorMessage"),w=u("CameraIcon"),T=u("VForm");return m(),h("div",X,[e("div",Z,[e("div",K,[e("div",ee,[e("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=(...o)=>d.closeModal&&d.closeModal(...o))}),te]),s.showForm?(m(),A(T,{key:0,class:"modal-body mx-xl-7 px-lg-26 border-2 border-top border-primary-light text-gray-800",onSubmit:d.saveFeedback},{default:I(({errors:o})=>{var _;return[e("div",se,[e("div",oe,[e("div",ae,[le,r(n,{type:"text",id:"feedbackName",name:"回饋名稱",class:b(["form-control mb-1 py-3",{"is-invalid":o.回饋名稱}]),modelValue:s.copyTempData.feedbackName,"onUpdate:modelValue":t[1]||(t[1]=l=>s.copyTempData.feedbackName=l),rules:"required",placeholder:"請輸入回饋名稱"},null,8,["class","modelValue"]),r(p,{class:"invalid-feedback",name:"回饋名稱"})]),e("div",de,[re,r(n,{type:"number",id:"feedbackPrice",name:"回饋金額",class:b(["form-control mb-1 py-3",{"is-invalid":o.回饋金額}]),modelValue:s.copyTempData.feedbackSettingMoney,"onUpdate:modelValue":t[2]||(t[2]=l=>s.copyTempData.feedbackSettingMoney=l),rules:"required|min_value:100",placeholder:"100",min:"100"},null,8,["class","modelValue"]),r(p,{class:"invalid-feedback",name:"回饋金額"}),ie]),e("div",ce,[ne,r(n,{id:"abstract",name:"內容摘要",class:b(["form-control mb-0",{"is-invalid":o.內容摘要}]),modelValue:s.copyTempData.feedbackArticle,"onUpdate:modelValue":t[3]||(t[3]=l=>s.copyTempData.feedbackArticle=l),rules:"required|max:150",as:"textarea",placeholder:"請在150字內",rows:"10"},null,8,["class","modelValue"]),r(p,{class:"invalid-feedback",name:"內容摘要"})]),s.copyTempData.customizeProperty?(m(),h(F,{key:0},[e("div",pe,[be,r(n,{id:"shippingArea",name:"寄送區域",class:b(["form-select py-3",{"is-invalid":o.寄送區域}]),modelValue:s.copyTempData.customizeProperty.shippingArea,"onUpdate:modelValue":t[4]||(t[4]=l=>s.copyTempData.customizeProperty.shippingArea=l),rules:"required",as:"select"},{default:I(()=>[me,ue]),_:2},1032,["class","modelValue"]),r(p,{class:"invalid-feedback",name:"寄送區域"})]),e("div",null,[he,r(n,{type:"date",id:"shippingTime",name:"預計寄送時間",class:b(["form-control py-3",{"is-invalid":o.預計寄送時間}]),modelValue:s.copyTempData.customizeProperty.shippingTime,"onUpdate:modelValue":t[5]||(t[5]=l=>s.copyTempData.customizeProperty.shippingTime=l),rules:"required"},null,8,["class","modelValue"]),r(p,{class:"invalid-feedback position-absolute",name:"預計寄送時間"})])],64)):D("",!0)]),e("div",ye,[e("div",fe,[ge,r(n,{type:"text",id:"feedbackTitle",name:"回饋標題",class:b(["form-control mb-1 py-3",{"is-invalid":o.回饋標題}]),modelValue:s.copyTempData.feedbackTitle,"onUpdate:modelValue":t[6]||(t[6]=l=>s.copyTempData.feedbackTitle=l),rules:"required",placeholder:"請輸入回饋標題"},null,8,["class","modelValue"]),r(p,{class:"invalid-feedback",name:"回饋標題"})]),_e,e("img",{src:s.copyTempData.feedbackImage||"https://fakeimg.pl/1200x800",class:"img-fluid mb-4",alt:"提案回饋圖片"},null,8,ke),xe,r(n,{type:"file",id:"feedbackImg",name:"圖片上傳",class:b(["d-none",{"is-invalid":o.圖片上傳}]),onChange:d.imageHandler,rules:"image|required"},null,8,["class","onChange"]),e("label",{for:"feedbackImg",class:b(["btn btn-primary d-flex justify-content-center gap-2 px-8 w-100",{"border-danger":o.圖片上傳}])},[e("i",ve,[r(w)]),i(" 上傳封面照片 ")],2),r(p,{class:"invalid-feedback",name:"圖片上傳"}),e("div",we,[Te,e("div",De,[e("div",Me,[s.copyTempData.customizeProperty?f((m(),h("input",{key:0,class:"form-check-input mt-0",type:"checkbox",id:"feedbackQty","onUpdate:modelValue":t[7]||(t[7]=l=>s.copyTempData.customizeProperty.limitNum=l)},null,512)),[[V,s.copyTempData.customizeProperty.limitNum]]):D("",!0),Se]),f(e("input",{type:"number",id:"feedbackQtyText",class:"form-control py-3 border-primary-light","aria-label":"Text input with checkbox",placeholder:"0",disabled:!((_=s.copyTempData.customizeProperty)!=null&&_.limitNum),"onUpdate:modelValue":t[8]||(t[8]=l=>s.copyTempData.feedbackLimitAmount=l)},null,8,Fe),[[M,s.copyTempData.feedbackLimitAmount,void 0,{number:!0}]])])])])]),e("div",$e,[Ie,f(e("input",{type:"checkbox",id:"feedbackTime",class:"form-check-input me-1",style:{"margin-top":"2px"},"onUpdate:modelValue":t[9]||(t[9]=l=>s.copyTempData.feedbackLimitTime=l),"true-value":"啟用","false-value":"未啟用"},null,512),[[V,s.copyTempData.feedbackLimitTime]]),Ve]),f(e("div",Le,[e("div",Ce,[Ne,f(e("input",{type:"date",id:"startDate",class:"form-control border-primary-light py-3 mb-6","onUpdate:modelValue":t[10]||(t[10]=l=>s.copyTempData.feedbackStartTime=l)},null,512),[[M,s.copyTempData.feedbackStartTime]]),Ue]),e("div",Ae,[Pe,f(e("input",{type:"date",id:"endDate",class:"form-control border-primary-light py-3 mb-6","onUpdate:modelValue":t[11]||(t[11]=l=>s.copyTempData.feedbackEndTime=l)},null,512),[[M,s.copyTempData.feedbackEndTime]]),Ee])],512),[[P,s.copyTempData.feedbackLimitTime==="啟用"]]),e("div",ze,[e("div",Be,[e("button",{type:"button",class:"btn btn-gray-400 px-0 w-100",onClick:t[12]||(t[12]=(...l)=>d.closeModal&&d.closeModal(...l))}," 放棄修改 ")]),je])]}),_:1},8,["onSubmit"])):D("",!0)])])],512)}const Je=$(G,[["render",Oe]]),qe={data(){return{sortModal:null}},methods:{openModal(){this.sortModal.show()},closeModal(){this.sortModal.hide()}},mounted(){this.sortModal=new this.$bs.Modal(this.$refs.sortModal,{backdrop:"static"})}},Re={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"sortModal"},He={class:"modal-dialog modal-xl"},Qe={class:"modal-content overflow-hidden"},We={class:"modal-header flex-column row-gap-3 border-0"},Ye=e("h1",{class:"modal-title fs-3 text-primary fw-normal"},"自訂回饋排序",-1),Ge=e("ul",{class:"list-style-lg-inside text-lg-center"},[e("li",null," 限量或限時設定提高回饋項目吸引力，透過排序提升特定項目曝光度 "),e("li",null," 已滿額或到期的回饋會被置底至「已額滿項目」區塊，停止排序，不影響其他可贊助回饋的能見度 ")],-1),Xe={class:"modal-body mx-xl-7 py-lg-17 px-lg-26 border-2 border-top border-primary-light text-gray-800"},Ze=E('<p class="mb-10 text-gray-600 fw-bold">可自訂排序</p><div class="text-nowrap overflow-auto"><table class="table mb-16 border-gray-700 text-center"><thead><tr><td>回饋金額</td><td>回饋敘述</td><td>數量限制</td><td>時間限制</td></tr><tr style="height:28px;"></tr></thead><tbody><tr><td class="p-0 border-0"><p class="mb-0 py-3 border border-end-0 border-gray-600 rounded-start-2 bg-bgc-paper"> $100 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-bgc-paper"> 單純贊助，不需回饋 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-bgc-paper"> 無 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border border-start-0 border-gray-600 rounded-end-2 bg-bgc-paper"> 無 </p></td></tr><tr style="height:12px;"></tr><tr><td class="p-0 border-0"><p class="mb-0 py-3 border border-end-0 border-gray-600 rounded-start-2 bg-bgc-paper"> $100 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-bgc-paper"> 單純贊助，不需回饋 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-bgc-paper"> 無 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border border-start-0 border-gray-600 rounded-end-2 bg-bgc-paper"> 無 </p></td></tr></tbody></table></div><p class="mb-10 text-gray-600 fw-bold">已額滿/到期回饋（不可排序）</p><div class="text-nowrap overflow-auto"><table class="table mb-17 border-gray-700 text-center"><thead><tr><td>回饋金額</td><td>回饋敘述</td><td>數量限制</td><td>時間限制</td></tr><tr style="height:28px;"></tr></thead><tbody><tr><td class="p-0 border-0"><p class="mb-0 py-3 border border-end-0 border-gray-600 rounded-start-2 bg-gray-400 opacity-75"> $100 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-gray-400 opacity-75"> 單純贊助，不需回饋 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-gray-400 opacity-75"> 無 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border border-start-0 border-gray-600 rounded-end-2 bg-gray-400 opacity-75"> 無 </p></td></tr><tr style="height:12px;"></tr><tr><td class="p-0 border-0"><p class="mb-0 py-3 border border-end-0 border-gray-600 rounded-start-2 bg-gray-400 opacity-75"> $100 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-gray-400 opacity-75"> 單純贊助，不需回饋 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border-top border-bottom border-gray-600 bg-gray-400 opacity-75"> 無 </p></td><td class="p-0 border-0"><p class="mb-0 py-3 border border-start-0 border-gray-600 rounded-end-2 bg-gray-400 opacity-75"> 無 </p></td></tr></tbody></table></div>',4),Ke={class:"d-flex flex-column flex-lg-row justify-content-between row-gap-4"},et=e("div",{class:"d-flex flex-column flex-lg-row gap-4"},[e("button",{type:"button",class:"btn btn-primary-light px-7 w-100"}," 依新增時間排序 "),e("button",{type:"button",class:"btn btn-primary-light px-7 w-100"}," 依金額高地排序 ")],-1),tt={class:"d-flex flex-column flex-lg-row gap-4"},st=e("button",{type:"button",class:"btn btn-primary px-5"}," 儲存並關閉 ",-1);function ot(a,t,c,y,s,d){return m(),h("div",Re,[e("div",He,[e("div",Qe,[e("div",We,[e("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:t[0]||(t[0]=(...n)=>d.closeModal&&d.closeModal(...n))}),Ye,Ge]),e("div",Xe,[Ze,e("div",Ke,[et,e("div",tt,[e("button",{type:"button",class:"btn btn-gray-600 px-4",onClick:t[1]||(t[1]=(...n)=>d.closeModal&&d.closeModal(...n))}," 放棄修改 "),st])])])])])],512)}const at=$(qe,[["render",ot]]),lt={mixins:[N],data(){return{tempData:{},currentState:""}},methods:{...L(C,["getFeedback","postFeedback","putFeedback","deleteFeedback"]),...L(O,["submitLaunch"]),async feedbackHandler(a){this.showFullScreenLoading();let t;if(this.currentState==="add"||this.currentState==="copy")t=await this.postFeedback(a);else{const{feedbackID:c}=a;t=await this.putFeedback(a,c)}t&&this.currentState!=="copy"&&this.$refs.feedbackInfo.closeModal(),this.hideFullScreenLoading()},infoModal(a,t){this.currentState=a,this.currentState==="add"?this.tempData={feedbackName:"",feedbackTitle:"",feedbackImage:"",feedbackSettingMoney:100,feedbackArticle:"",feedbackLimitAmount:null,feedbackLimitTime:"未啟用",feedbackStartTime:"2024-01-01",feedbackEndTime:"2024-01-01",customizeProperty:{shippingArea:"",limitNum:!1}}:this.tempData=t,this.$refs.feedbackInfo.openModal()},sortModal(){this.$refs.feedbackSort.openModal()},previousStep(){this.$router.go(-1)},async finishLaunch(){this.showFullScreenLoading(),await this.submitLaunch()&&this.$router.push("/"),this.hideFullScreenLoading()}},computed:{...z(C,["feedbackSet"])},async mounted(){this.showFullScreenLoading(),await this.getFeedback(),this.hideFullScreenLoading()},components:{LaunchNav:J,PlusIcon:Q,FeedbackInfo:Je,FeedbackSort:at}},dt={class:"container"},rt={class:"col-xl-8 mx-auto mb-8"},it=e("p",{class:"mb-7"}," 在這個區塊您將制定本次募資專案提供的回饋項目，回饋內容可以十分多元，但是必須清楚寫明回饋金額、內容說明、運費及寄送時間等必要資訊。 ",-1),ct=e("p",{class:"lh-md"},[i(" 回饋列表 "),e("span",{class:"text-danger"}," * ")],-1),nt={class:"d-flex flex-column flex-md-row justify-content-between align-items-lg-center gap-7 mb-2"},pt=e("ul",{class:"navbar-nav flex-row gap-2 gap-md-6 text-center"},[e("li",{class:"nav-item p-4 py-lg-6 px-md-10 px-lg-16 border-bottom border-2 fw-medium w-50 w-md-auto"}," 可贊助 "),e("li",{class:"nav-item p-4 py-lg-6 px-md-10 px-lg-16 border-bottom border-2 fw-medium w-50 w-md-auto"}," 已額滿/到期 ")],-1),bt={class:"col-xl-9 mx-auto mb-27"},mt={class:"row gx-11 gy-7"},ut={class:"col-md-6 col-lg-7"},ht={class:"card py-9 px-6 border-2 border-primary"},yt={class:"d-flex flex-column flex-lg-row justify-content-between align-items-lg-center py-7 px-6 mb-6 bg-primary rounded-2 text-white"},ft={class:"card-title fs-5 mb-0"},gt={class:"d-flex align-items-end column-gap-1 mb-0 fs-5 lh-md"},_t={class:"fs-3 text-secondary-light fw-bold lterSpc-8 lh-1"},kt=["src","alt"],xt={class:"d-flex flex-column flex-lg-row justify-content-between align-items-lg-center mb-6"},vt={class:"mb-0 fw-bold text-primary"},wt={class:"d-flex text-white mb-8"},Tt={class:"mb-0 py-1 px-2 border-2 border-end border-secondary-light bg-primary lh-md"},Dt={class:"text-secondary-light"},Mt={class:"mb-0 py-1 px-2 bg-primary lh-md"},St=e("span",{class:"text-secondary-light"},"0",-1),Ft={class:"mb-8"},$t=e("h5",{class:"mb-3"},"【方案內容】",-1),It=e("button",{type:"button",class:"btn btn-primary d-flex align-items-center justify-content-center column-gap-1 mb-4 px-14 fw-bold disabled"}," 贊助專案 ",-1),Vt={class:"col-md-6 col-lg-5 align-self-end"},Lt={class:"row gy-7"},Ct={class:"col-12"},Nt=["onClick"],Ut=e("div",{class:"col-12"},[e("a",{href:"#",class:"btn btn-gray-600 w-100"}," 隱藏此回饋 ")],-1),At={class:"col-lg-6"},Pt=["onClick"],Et={class:"col-lg-6"},zt=["onClick"],Bt={style:{width:"16px","margin-top":"-6px"}},jt={class:"row justify-content-lg-end gy-7"},Ot={class:"col-md-6 col-lg-3"},Jt={class:"col-md-6 col-lg-3"};function qt(a,t,c,y,s,d){const n=u("LaunchNav"),p=u("PlusIcon"),w=u("FeedbackInfo"),T=u("FeedbackSort");return m(),h(F,null,[r(n,{"current-page":"回饋設定"}),e("main",dt,[e("div",rt,[it,ct,e("nav",nt,[pt,e("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...o)=>d.sortModal&&d.sortModal(...o))}," 自訂排序回饋 ")])]),e("div",bt,[(m(!0),h(F,null,B(a.feedbackSet,o=>(m(),h("div",{class:"p-7 p-lg-13 mb-9 border border-gray-700 rounded-3",key:o.feedbackID},[e("div",mt,[e("div",ut,[e("div",ht,[e("div",yt,[e("h3",ft,g(o.feedbackTitle),1),e("p",gt,[i(" 只要 "),e("span",_t," NT$ "+g(o.feedbackSettingMoney),1)])]),e("img",{class:"img-fluid mb-3 w-100 rounded-3 object-fit-cover",src:o.feedbackImage,alt:o.feedbackName},null,8,kt),e("div",xt,[e("div",null,[e("h4",vt,g(o.feedbackName),1)])]),e("div",wt,[e("p",Tt,[i(" 剩餘 "),e("span",Dt,g(o.feedbackLimitAmount),1),i(" 份 ")]),e("p",Mt,[i(" 已經被贊助 "),St,i(" / "+g(o.feedbackLimitAmount)+" 次 ",1)])]),e("div",Ft,[$t,i(" "+g(o.feedbackArticle),1)]),It])]),e("div",Vt,[e("div",Lt,[e("div",Ct,[e("button",{type:"button",class:"btn btn-primary w-100",onClick:_=>d.infoModal("edit",o)}," 編輯回饋資訊 ",8,Nt)]),Ut,e("div",At,[e("button",{type:"button",class:"btn btn-gray-400 px-0 w-100",onClick:_=>a.deleteFeedback(o.feedbackID)}," 刪除回饋 ",8,Pt)]),e("div",Et,[e("button",{type:"button",class:"btn btn-primary-light px-0 w-100",onClick:()=>{s.currentState="copy",d.feedbackHandler(o)}}," 複製此回饋 ",8,zt)])])])])]))),128)),e("button",{type:"button",class:"btn btn-outline-primary d-flex justify-content-center align-items-center gap-2 mb-13 w-100",onClick:t[1]||(t[1]=o=>d.infoModal("add"))},[i(" 新增一個回饋 "),e("i",Bt,[r(p)])]),e("div",jt,[e("div",Ot,[e("button",{type:"button",class:"btn btn-primary-light px-0 w-100",onClick:t[2]||(t[2]=(...o)=>d.previousStep&&d.previousStep(...o))}," 上一步 ")]),e("div",Jt,[e("button",{type:"button",class:"btn btn-primary px-0 w-100",onClick:t[3]||(t[3]=(...o)=>d.finishLaunch&&d.finishLaunch(...o))}," 送出提案 ")])])])]),r(w,{ref:"feedbackInfo","temp-data":s.tempData,onFeedbackHandler:d.feedbackHandler},null,8,["temp-data","onFeedbackHandler"]),r(T,{ref:"feedbackSort"},null,512)],64)}const Kt=$(lt,[["render",qt]]);export{Kt as default};
