import{_ as g,o as i,c as h,a as t,z as w,p as y,j as x,N as L,P as U,E as B,g as C,h as A,b as u,w as v,F as k,d as I,i as S,e as P,r as c,y as D,f as M}from"./index-TdGDtMhl.js";import{R as E}from"./RightArrow-XtYjrI_H.js";/* empty css                   */import{_ as R}from"./w-biglogo--vR3noKG.js";import{m as F}from"./mixinFullScreenLoading-9dNja2ki.js";import{m as T}from"./mixinSwalToast-gFddruI-.js";const V={props:["imgUrl","index"],data(){return{url:"",imgLoadStatus:!1}},methods:{removePhoto(){this.$emit("remove",this.index)},moveUp(){this.$emit("move-up",this.index)},moveDown(){this.$emit("move-down",this.index)},onImageLoad(){this.imgLoadStatus=!0}},watch:{imgUrl(e){this.url=e}}},$=e=>(y("data-v-f540f81b"),e=e(),x(),e),j={class:"px-10 py-8 d-flex align-items-center justify-content-between border-bottom border-dark-pr"},N={class:"placeholder-glow"},O=["src"],J={class:"d-flex align-items-center"},Z=$(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"14",fill:"none",viewBox:"0 0 24 14"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M.82.821a1.668 1.668 0 0 1 2.357 0L12 9.643 20.82.82a1.667 1.667 0 1 1 2.357 2.357l-10 10a1.666 1.666 0 0 1-2.357 0l-10-10A1.667 1.667 0 0 1 .82.82Z","clip-rule":"evenodd"})],-1)),z=[Z],W=$(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"14",fill:"none",viewBox:"0 0 24 14"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M10.82.821a1.668 1.668 0 0 1 2.357 0l10 10a1.667 1.667 0 1 1-2.357 2.357L12 4.357l-8.822 8.821A1.667 1.667 0 1 1 .82 10.821l10-10Z","clip-rule":"evenodd"})],-1)),Y=[W];function H(e,n,a,l,r,o){return i(),h("div",j,[t("div",N,[t("img",{src:a.imgUrl,alt:"",ref:"image",class:w(["mw-100 object-fit-cover",{"d-none":!r.imgLoadStatus}]),height:"130",width:"196",onLoad:n[0]||(n[0]=(...s)=>o.onImageLoad&&o.onImageLoad(...s))},null,42,O),t("div",{class:w(["placeholder bg-primary",{"d-none":r.imgLoadStatus}]),style:{height:"130px",width:"196px"}},null,2)]),t("div",J,[t("button",{class:"btn btn-outline-dark-pr px-2 px-md-17 py-5",type:"button",onClick:n[1]||(n[1]=(...s)=>o.removePhoto&&o.removePhoto(...s))},"移除照片"),t("button",{class:"btn btn-dark-pr p-5 ms-7 l-IconHoverEffect",type:"button",onClick:n[2]||(n[2]=(...s)=>o.moveDown&&o.moveDown(...s))},z),t("button",{class:"btn btn-dark-pr p-5 ms-3 l-IconHoverEffect",type:"button",onClick:n[3]||(n[3]=(...s)=>o.moveUp&&o.moveUp(...s))},Y)])])}const Q=g(V,[["render",H],["__scopeId","data-v-f540f81b"]]),X={},G={xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"none",viewBox:"0 0 28 28"},q=t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M24.5 20.352c0 .481-.201.943-.56 1.283a1.96 1.96 0 0 1-1.35.532H5.41a1.96 1.96 0 0 1-1.35-.532 1.77 1.77 0 0 1-.56-1.283V10.37c0-.481.201-.943.56-1.283a1.96 1.96 0 0 1 1.35-.532h3.817l1.91-2.722h5.727l1.909 2.722h3.818c.506 0 .992.192 1.35.532.358.34.559.802.559 1.283v9.982Z"},null,-1),K=t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 18.667a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z"},null,-1),ee=[q,K];function te(e,n){return i(),h("svg",G,ee)}const ne=g(X,[["render",te]]),oe={props:["bannerData"],data(){return{modules:[L,U],bnData:[],EffectFade:B}},methods:{onSlideChange(){}},components:{RightArrow:E,Swiper:C,SwiperSlide:A},mounted(){},created(){}},se=e=>(y("data-v-b93dd1f7"),e=e(),x(),e),ae={class:"container py-15"},re={class:"rounded-5"},ie={class:"d-flex flex-column justify-content-center align-items-center"},le=["src"],ce={class:"bg-primary-dark col-12 py-7 rounded-bottom-5 position-absolute bottom-0"},de={class:"text-secondary-light text-center lterSpc-10 mb-0 mx-8 bn-hover"},he=se(()=>t("div",{class:"d-flex flex-column align-items-center position-absolute top-24 top-sm-24 px-10"},[t("img",{src:R,class:"img-fluid mb-5 col-12",alt:""}),t("p",{class:"fs-3 fw-light text-white mb-0 lterSpc-10"},"推動夢想不是夢 !")],-1));function me(e,n,a,l,r,o){const s=c("RightArrow"),m=c("RouterLink"),f=c("swiper-slide"),p=c("swiper");return i(),h("div",ae,[u(p,{ref:"swiper",modules:[r.EffectFade],effect:"fade","slides-per-view":3,"space-between":120,"centered-slides":!0,breakpoints:{390:{slidesPerView:1}},autoplay:{delay:5e3,disableOnInteraction:!1},onSwiperslidechange:o.onSlideChange,class:"rounded-5 col-12 object-fit-cover",style:{height:"650px"}},{default:v(()=>[(i(!0),h(k,null,I(a.bannerData,(d,_)=>(i(),S(f,{key:`${_}-bn`},{default:v(()=>[t("div",re,[t("div",ie,[u(m,{to:"/member",class:"position-relative col-12 rounded-5 shadow"},{default:v(()=>[t("img",{src:d.imgUrl,class:"img-fluid rounded-5 w-100 object-fit-cover",style:{height:"650px"},alt:"推動夢想不是夢概念圖"},null,8,le),t("div",ce,[t("h4",de,[P(" 立刻加入會員，一起追夢去 "),t("span",null,[u(s,{style:{width:"24px",color:"var(--bs-secondary-light)","margin-top":"-2 px"}})])])])]),_:2},1024),he])])]),_:2},1024))),128))]),_:1},8,["modules","onSwiperslidechange"])])}const pe=g(oe,[["render",me],["__scopeId","data-v-b93dd1f7"]]);var ue={VITE_URL:"https://api.dreamboost.shop",VITE_WEIKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RlbWFpbEBnbWFpbC5jb20iLCJ1c2VySUQiOiIzYTU4MjBhZi1iN2JlLTRkODMtOWM2My1kNmY1MWI2YmExMDEiLCJpYXQiOjE3MDg5Mzk5MDcsImV4cCI6MTcxMTUzMTkwN30.BbIXGVkQOU2HqsiCg6UcwFZx-kBd7kdOP24kUD21c1M",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:b}=ue,_e={data(){return{bannerAry:[],tempPic:"",imgLoadStatus:!1}},methods:{getBannerData(){this.showFullScreenLoading({canCancel:!1}),this.$http.get("https://api.dreamboost.shop/dreamboost/banner/guest/banner").then(n=>{this.bannerAry=n.data.data.result,this.hideFullScreenLoading(),this.addToast({content:"取得Banner圖片資料完成。"})}).catch(()=>{this.hideFullScreenLoading(),this.addToast({content:"取得Banner圖片過程出現錯誤。",style:"error"})})},updateBannerData(e){const n=`${b}/dreamboost/banner/admin/banner`;this.$http.post(n,{bannerUrlArray:e}).then(()=>{this.getBannerData()})},removePhoto(e){this.bannerAry.splice(e,1),this.bannerAry.forEach((a,l)=>{l>=e&&(this.bannerAry[l].orderBy-=1)});const n=`${b}/dreamboost/banner/admin/banner`;this.showFullScreenLoading({canCancel:!1}),this.$http.post(n,{bannerUrlArray:this.bannerAry}).then(()=>{this.hideFullScreenLoading(),this.getBannerData()}).catch(()=>{this.hideFullScreenLoading(),this.addToast({content:"刪除過程出現錯誤,請重新整理畫面再次操作。",style:"error"})})},movePhotoUp(e){if(e>0){const n=this.bannerAry[e];this.bannerAry.splice(e,1),this.bannerAry.splice(e-1,0,n)}},movePhotoDown(e){if(e<this.bannerAry.length-1){const n=this.bannerAry[e];this.bannerAry.splice(e,1),this.bannerAry.splice(e+1,0,n)}},uploadNewPicture(){const e=`${b}/dreamboost/upload`,n=`${b}/dreamboost/banner/admin/banner`,a=document.createElement("input");a.type="file",a.style.display="none",a.addEventListener("change",l=>{const r=l.target.files[0],o=new FormData;o.append("image",r),this.showFullScreenLoading({canCancel:!1,style:"dots"}),this.$http.post(e,o).then(s=>{const m={imgUrl:s.data.data.result,orderBy:this.bannerAry.length+1};return this.$http.post(n,{bannerUrlArray:[...this.bannerAry,m]})}).then(()=>{this.hideFullScreenLoading(),this.addToast({content:"上傳圖片完成。"}),this.getBannerData()}).catch(()=>{this.hideFullScreenLoading(),this.addToast({content:"過程出現錯誤，請重新整理",style:"error"})})}),a.click()},onImageLoad(){this.imgLoadStatus=!0}},components:{UpdateBannerImgCard:Q,CameraIcon:ne,RealtimeBannerPreview:pe},mounted(){this.getBannerData()},mixins:[T,F]},be={class:"container mt-20"},ge={class:"row"},fe={class:"col-12"},ve=t("p",{class:"text-white text-center fs-3 mb-0"},"即時預覽",-1),we={class:"row justify-content-center mt-21"},ye={class:"col-12 col-lg-10"},xe={class:"px-10 text-end"},ke=t("span",{class:"ms-2"},"新增封面照片",-1);function Ie(e,n,a,l,r,o){const s=c("RealtimeBannerPreview"),m=c("UpdateBannerImgCard"),f=c("CameraIcon");return i(),h("div",be,[t("div",ge,[t("div",fe,[ve,u(s,{"banner-data":r.bannerAry},null,8,["banner-data"])])]),t("div",we,[t("div",ye,[r.bannerAry?(i(!0),h(k,{key:0},I(r.bannerAry,(p,d)=>(i(),S(m,{key:`${d}-img`,"img-url":p.imgUrl,onRemove:_=>o.removePhoto(d),onMoveUp:_=>o.movePhotoUp(d),onMoveDown:_=>o.movePhotoDown(d)},null,8,["img-url","onRemove","onMoveUp","onMoveDown"]))),128)):D("",!0),t("div",xe,[t("button",{type:"button",href:"#",class:"btn btn-dark-pr mt-9 ms-auto py-5 px-11",onClick:n[0]||(n[0]=M((...p)=>o.uploadNewPicture&&o.uploadNewPicture(...p),["prevent"]))},[u(f,{width:"28",height:"28"}),ke])])])])])}const Ae=g(_e,[["render",Ie]]);export{Ae as default};
