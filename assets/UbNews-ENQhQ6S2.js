import{A as u}from"./AnglesDown-D20S8RO8.js";import{_ as m,o as t,c as a,a as e,t as r,F as b,d as f,e as I,b as x,i as y,r as d}from"./index-TdGDtMhl.js";import{m as M}from"./mixinFullScreenLoading-9dNja2ki.js";import{m as w}from"./mixinSwalToast-gFddruI-.js";const k={props:["messageData"],data(){return{collapseInstance:"",isShown:""}},methods:{initCollapse(){this.collapseInstance=new this.$bs.Collapse(this.$refs.collapseArea,{toggle:!1})},hide(){this.collapseInstance.hide()},show(){this.collapseInstance.show()},toggle(){this.collapseInstance.toggle()}},mounted(){this.initCollapse()}},D={class:"accordion-item border-0 border-bottom border-primary-light rounded-0"},U={class:"accordion-header"},$={ref:"collapseArea",class:"accordion-collapse collapse","data-bs-parent":"#messageAccordion"},A={class:"accordion-body"},C={class:"fs-6 text-gray-500 mt-6 mb-0"};function S(o,s,n,p,l,c){return t(),a("div",D,[e("h2",U,[e("button",{class:"accordion-button bg-transparent text-primary shadow-none",type:"button","data-bs-toggle":"collapse",onClick:s[0]||(s[0]=(...i)=>c.toggle&&c.toggle(...i))},[e("span",null,r(n.messageData.messageTitle),1)])]),e("div",$,[e("div",A,[e("span",null,r(n.messageData.messageContent),1),e("p",C,r(new Date(n.messageData.messageTime)),1)])],512)])}const T=m(k,[["render",S],["__scopeId","data-v-225abe9b"]]);var v={VITE_URL:"https://api.dreamboost.shop",VITE_WEIKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RlbWFpbEBnbWFpbC5jb20iLCJ1c2VySUQiOiIzYTU4MjBhZi1iN2JlLTRkODMtOWM2My1kNmY1MWI2YmExMDEiLCJpYXQiOjE3MDg5Mzk5MDcsImV4cCI6MTcxMTUzMTkwN30.BbIXGVkQOU2HqsiCg6UcwFZx-kBd7kdOP24kUD21c1M",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:E}=v,L={data(){return{apiUserMessages:""}},computed:{messagesSorted(){return this.apiUserMessages.slice().sort((o,s)=>s.messageTime-o.messageTime)}},methods:{getUserMessages(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)db\s*=\s*([^;]*).*$)|^.*$/,"$1");this.showFullScreenLoading({canCancel:!1}),this.$http.get(`${E}/dreamboost/message/normal/messages`,{headers:{Authorization:o}}).then(s=>{this.apiUserMessages=Object.values(s.data.data.result),this.hideFullScreenLoading()}).catch(()=>{this.hideFullScreenLoading()})}},components:{AnglesDown:u,AccordionItem:T},mounted(){this.getUserMessages()},mixins:[w,M]},V={class:"container"},B={class:"rounded-3 py-14 px-20 my-20 shadow"},F=e("div",{class:"d-flex flex-column mb-7"},[e("h1",{class:"fs-3 text-primary mb-0"},"最新通知"),e("p",{class:"fs-6 text-primary-light mb-0"},"News for you")],-1),O={key:0},N={class:"accordion p-4 pb-11 border border-primary-light rounded-3",id:"messageAccordion"},R={class:"d-flex flex-column mt-5"},J={type:"button",class:"btn border-0 angle-down"},z={class:"d-flex flex-column align-items-center fs-5 fw-blod"},W={key:1};function Y(o,s,n,p,l,c){const i=d("AccordionItem"),g=d("AnglesDown");return t(),a("main",null,[e("section",V,[e("div",B,[F,l.apiUserMessages?(t(),a("div",O,[e("div",N,[(t(!0),a(b,null,f(c.messagesSorted,(h,_)=>(t(),y(i,{key:`${_}-AccordionList`,"message-data":h},null,8,["message-data"]))),128))]),e("div",R,[e("button",J,[e("span",z,[I("載入更多 "),x(g,{class:"mb-0",style:{width:"18px"}})])])])])):(t(),a("p",W,"目前沒有任何通知"))])])])}const G=m(L,[["render",Y]]);export{G as default};
