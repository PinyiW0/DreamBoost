import{_ as l,o as t,c as a,a as e,t as r,F as u,d as b,e as f,b as x,i as I,r as m}from"./index-yuxx1_q5.js";import{m as w}from"./mixinFullScreenLoading-9dNja2ki.js";import{m as y}from"./mixinSwalToast-ASTaHnD6.js";const M={},$={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},k=e("path",{d:"M246.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L224 402.7 361.4 265.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-160 160zm160-352l-160 160c-12.5 12.5-32.8 12.5-45.3 0l-160-160c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L224 210.7 361.4 73.4c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3z",fill:"currentColor"},null,-1),D=[k];function U(o,s){return t(),a("svg",$,D)}const v=l(M,[["render",U]]),C={props:["messageData"],data(){return{collapseInstance:"",isShown:""}},methods:{initCollapse(){this.collapseInstance=new this.$bs.Collapse(this.$refs.collapseArea,{toggle:!1})},hide(){this.collapseInstance.hide()},show(){this.collapseInstance.show()},toggle(){this.collapseInstance.toggle()}},mounted(){this.initCollapse()}},L={class:"accordion-item border-0 border-bottom border-primary-light rounded-0"},S={class:"accordion-header"},T={ref:"collapseArea",class:"accordion-collapse collapse","data-bs-parent":"#messageAccordion"},A={class:"accordion-body"},E={class:"fs-6 text-gray-500 mt-6 mb-0"};function V(o,s,n,_,d,c){return t(),a("div",L,[e("h2",S,[e("button",{class:"accordion-button bg-transparent text-primary shadow-none",type:"button","data-bs-toggle":"collapse",onClick:s[0]||(s[0]=(...i)=>c.toggle&&c.toggle(...i))},[e("span",null,r(n.messageData.messageTitle),1)])]),e("div",T,[e("div",A,[e("span",null,r(n.messageData.messageContent),1),e("p",E,r(new Date(n.messageData.messageTime)),1)])],512)])}const B=l(C,[["render",V],["__scopeId","data-v-225abe9b"]]);var F={VITE_URL:"https://api.dreamboost.shop",VITE_WEIKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RlbWFpbEBnbWFpbC5jb20iLCJ1c2VySUQiOiIzYTU4MjBhZi1iN2JlLTRkODMtOWM2My1kNmY1MWI2YmExMDEiLCJpYXQiOjE3MDg5Mzk5MDcsImV4cCI6MTcxMTUzMTkwN30.BbIXGVkQOU2HqsiCg6UcwFZx-kBd7kdOP24kUD21c1M",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:O}=F,N={data(){return{apiUserMessages:""}},computed:{messagesSorted(){return this.apiUserMessages.slice().sort((o,s)=>s.messageTime-o.messageTime)}},methods:{getUserMessages(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)db\s*=\s*([^;]*).*$)|^.*$/,"$1");this.showFullScreenLoading({canCancel:!1}),this.$http.get(`${O}/dreamboost/message/normal/messages`,{headers:{Authorization:o}}).then(s=>{this.apiUserMessages=Object.values(s.data.data.result),this.hideFullScreenLoading()}).catch(()=>{this.hideFullScreenLoading()})}},components:{AnglesDown:v,AccordionItem:B},mounted(){this.getUserMessages()},mixins:[y,w]},R={class:"container"},z={class:"rounded-3 py-14 px-20 my-20 shadow"},J=e("div",{class:"d-flex flex-column mb-7"},[e("h1",{class:"fs-3 text-primary mb-0"},"最新通知"),e("p",{class:"fs-6 text-primary-light mb-0"},"News for you")],-1),W={key:0},Y={class:"accordion p-4 pb-11 border border-primary-light rounded-3",id:"messageAccordion"},j={class:"d-flex flex-column mt-5"},Q={type:"button",class:"btn border-0 angle-down"},X={class:"d-flex flex-column align-items-center fs-5 fw-blod"},Z={key:1};function G(o,s,n,_,d,c){const i=m("AccordionItem"),p=m("AnglesDown");return t(),a("main",null,[e("section",R,[e("div",z,[J,d.apiUserMessages?(t(),a("div",W,[e("div",Y,[(t(!0),a(u,null,b(c.messagesSorted,(h,g)=>(t(),I(i,{key:`${g}-AccordionList`,"message-data":h},null,8,["message-data"]))),128))]),e("div",j,[e("button",Q,[e("span",X,[f("載入更多 "),x(p,{class:"mb-0",style:{width:"18px"}})])])])])):(t(),a("p",Z,"目前沒有任何通知"))])])])}const K=l(N,[["render",G]]);export{K as default};
