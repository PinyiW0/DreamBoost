import{B as a}from"./index-WtwVpptg.js";var r={VITE_URL:"https://api.dreamboost.shop",VITE_WEIKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RlbWFpbEBnbWFpbC5jb20iLCJ1c2VySUQiOiIzYTU4MjBhZi1iN2JlLTRkODMtOWM2My1kNmY1MWI2YmExMDEiLCJpYXQiOjE3MDg5Mzk5MDcsImV4cCI6MTcxMTUzMTkwN30.BbIXGVkQOU2HqsiCg6UcwFZx-kBd7kdOP24kUD21c1M",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:o}=r,c=a("memberStore",{state:()=>({userData:{name:"",username:"",password:""},userEmail:""}),actions:{async postLogin(){try{const t=await this.$http.post(`${o}/dreamboost/login`,this.userData),{token:e,expired:s}=t.data.data;document.cookie=`db=${e}; expires=${new Date(s*1e3)};`,this.$router.go(-1)}catch(t){console.log(t.response.data.message)}},async postSignup(){try{const t=await this.$http.post(`${o}/dreamboost/signup`,this.userData),{message:e}=t.data;console.log(e)}catch(t){console.log(t)}},async postCheckToken(){var e;const t=(e=document.cookie.split("; ").find(s=>s.startsWith("db")))==null?void 0:e.split("=")[1];this.$http.defaults.headers.common.Authorization=t;try{const s=await this.$http.post(`${o}/dreamboost/checktoken`);this.userEmail=await s.data.data.result.username}catch{this.$router.push("/member")}}}});export{c as m};
