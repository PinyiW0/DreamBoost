import{n as y,_,m,l as a,c as i,a as e,b as n,f as r,F as w,d as C,e as k,k as D,o as c,r as d}from"./index-TdGDtMhl.js";import{e as u}from"./exploreStore-68oH_e4J.js";import{s as S}from"./sweetAlert2Store-XcDrA2KZ.js";import{m as I}from"./mixinFullScreenLoading-9dNja2ki.js";import{C as E}from"./CardDefault-FA3Huwth.js";import{C as M}from"./CuponCircle-MqjmAXaV.js";import{A as V}from"./AnglesDown-D20S8RO8.js";import"./MessageIcon-H4NXvizx.js";import"./StarFull-liFUiMyw.js";import"./StarHollow-rHeiFvOL.js";import"./userIcon36-vMZC3oQ0.js";var U={VITE_URL:"https://api.dreamboost.shop",VITE_WEIKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3RlbWFpbEBnbWFpbC5jb20iLCJ1c2VySUQiOiIzYTU4MjBhZi1iN2JlLTRkODMtOWM2My1kNmY1MWI2YmExMDEiLCJpYXQiOjE3MDg5Mzk5MDcsImV4cCI6MTcxMTUzMTkwN30.BbIXGVkQOU2HqsiCg6UcwFZx-kBd7kdOP24kUD21c1M",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x}=U,f=y("userStore",{state:()=>({userData:{userAvatarImage:"",userBirthday:"",userGender:"",userTelephone:""}}),actions:{getUserData(){this.$http.get(`${x}/dreamboost/user/normal/userprofile`).then(o=>{this.userData=o.data.data.result}).catch(()=>{throw new Error("資料未新增")})},postUserData(){this.$http.post(`${x}/dreamboost/user/normal/userprofile`,this.userData).then(o=>{console.log(o)}).catch(o=>{console.log(o)})}}}),T={components:{AnglesDown:V,CouponCircle:M,CardDefault:E},data(){return{selectedCategory:null,filteredProposals:[]}},mixins:[I],computed:{...m(u,["proposals"]),...m(f,["userData"])},watch:{selectedCategory(o,t){console.log("selectedCategory changed from",t,"to",o),this.filteredProposals=Object.values(this.proposals).filter(p=>p.proposalCategory===o),console.log(this.filteredProposals)}},async mounted(){await this.showFullScreenLoading(),await this.getProposals(),await this.getUserData(),setTimeout(()=>{this.hideFullScreenLoading()},1500)},methods:{...a(u,["getProposals"]),...a(f,["getUserData"]),...a(S,["errorAlert"]),favoriteHandler(){if(Object.values(this.userData).includes("")){const t=localStorage.getItem("userID");this.$router.push(`userboard/${t}/personal`),setTimeout(()=>{this.$route.path.startsWith("/userboard")&&this.errorAlert("需先完成會員資料")},1500)}},filterCategory(o){this.selectedCategory!==o&&(this.selectedCategory=o,this.getProposals(this.filteredProposals))}}},F={class:"container"},O=D('<div class="d-flex justify-content-center mt-15 mb-5 position-relative"><div class="mb-5 mb-lg-3"><h1 class="title-center text-center position-relative">探索專案</h1><p class="fs-6 text-primary-light text-center mb-0">Explore Projects</p></div></div><div class="row col-12 col-lg-7 col-xl-6 mx-auto align-items-center gx-7"><div class="col-7 col-lg-6 mb-8 mx-auto"><label class="fw-medium mb-1" for="pr">專案狀態</label><select class="form-select col-3 border-primary" aria-label="Default select example"><option selected value="1" class="">進行中</option><option value="2">成功專案</option><option value="3">即將推出</option></select></div><div class="col-7 col-lg-6 mb-8 mx-auto"><label class="fw-medium mb-1" for="pr">專案排序</label><select class="form-select col-3 border-primary" aria-label="Default select example"><option selected value="1">熱門</option><option value="2">贊助人數</option><option value="3">最多收藏</option></select></div></div>',2),A={class:"postion-relative d-none d-xxl-block"},B={class:"container pt-8 pb-5"},L={class:"container row gy-8 gy-md-10 justify-content-center position-absolute translate-middle-null z-1"},P={class:"col-10 col-lg-3 col-xxl me-0 me-lg-10 me-xl-6 me-xxl-3"},$={class:"col-10 col-lg-3 col-xxl me-0 me-lg-10 me-xl-6 me-xxl-3"},R={class:"col-10 col-lg-3 col-xxl me-0 me-lg-10 me-xl-6 me-xxl-3"},j={class:"col-10 col-lg-3 col-xxl me-0 me-lg-10 me-xl-6 me-xxl-3"},N={class:"col-10 col-lg-3 col-xxl me-0 me-lg-10 me-xl-6 me-xxl-3"},J={class:"col-10 col-lg-3 col-xxl me-0 me-lg-10 me-xl-6 me-xxl-3"},W=e("div",{class:"container-fluid bg-primary-light py-30 py-lg-24 py-xl-23 py-xxl-8 mb-lg-8 mb-xl-14 mt-5"},null,-1),z=e("div",{class:"d-block d-lg-none container-fluid bg-primary-light py-28 py-md-29 mb-4"},null,-1),Y={class:"container"},G={class:"row gx-10 list-unstyled pt-5"},H={class:"container d-flex flex-column"},Q={type:"button",class:"btn angle-down"},X={class:"d-flex flex-column align-items-center fs-18 fw-blod mb-1"};function Z(o,t,p,q,K,l){const g=d("CouponCircle"),h=d("CardDefault"),b=d("AnglesDown");return c(),i("main",null,[e("section",F,[O,e("div",A,[n(g,{class:"top-24 start-20"})]),e("div",B,[e("div",L,[e("div",P,[e("a",{class:"categorylink categorylink1 rounded-pill border border-2 border-white fs-4 fw-medium text-white lterSpc-5 text-center pt-7 pt-xxl-5",href:"",onClick:t[0]||(t[0]=r(s=>l.filterCategory("挺好夢"),["prevent"]))}," 挺好夢 ")]),e("div",$,[e("a",{class:"categorylink categorylink2 rounded-pill border border-2 border-white fs-4 fw-medium text-white lterSpc-5 text-center pt-7 pt-xxl-5",href:"",onClick:t[1]||(t[1]=r(s=>l.filterCategory("科技設計"),["prevent"]))}," 科技設計 ")]),e("div",R,[e("a",{class:"categorylink categorylink3 rounded-pill border border-2 border-white fs-4 fw-medium text-white lterSpc-5 text-center pt-7 pt-xxl-5",href:"",onClick:t[2]||(t[2]=r(s=>l.filterCategory("健康生活"),["prevent"]))}," 健康生活 ")]),e("div",j,[e("a",{class:"categorylink categorylink4 rounded-pill border border-2 border-white fs-4 fw-medium text-white lterSpc-5 text-center pt-7 pt-xxl-5",href:"",onClick:t[3]||(t[3]=r(s=>l.filterCategory("時尚"),["prevent"]))}," 時尚 ")]),e("div",N,[e("a",{class:"categorylink categorylink5 rounded-pill border border-2 border-white fs-4 fw-medium text-white lterSpc-5 text-center pt-7 pt-xxl-5",href:"",onClick:t[4]||(t[4]=r(s=>l.filterCategory("公共在地"),["prevent"]))}," 公共在地 ")]),e("div",J,[e("a",{class:"categorylink categorylink6 rounded-pill border border-2 border-white fs-4 fw-medium text-white lterSpc-5 text-center pt-7 pt-xxl-5",href:"",onClick:t[5]||(t[5]=r(s=>l.filterCategory("美妝"),["prevent"]))}," 美妝 ")])])])]),W,z,e("section",Y,[e("ul",G,[(c(!0),i(w,null,C(o.proposals,(s,v)=>(c(),i("li",{class:"col-12 col-md-6 col-lg-4",key:v},[n(h,{proposals:s,onFavorite:l.favoriteHandler},null,8,["proposals","onFavorite"])]))),128))])]),e("div",H,[e("button",Q,[e("span",X,[k("載入更多 "),n(b,{class:"pb-10",style:{width:"18px"}})])])])])}const pe=_(T,[["render",Z]]);export{pe as default};
