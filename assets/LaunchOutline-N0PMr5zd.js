import{z as I,_ as b,o as y,c as v,a,k as m,l as C,b as t,w as g,F,r as i,A as r,e as o,t as f}from"./index-6sPLfC2Q.js";import{l as p}from"./launchStore-uT06nHKn.js";import{m as T}from"./memberStore-TngnPeKh.js";import{m as $,C as L}from"./CameraIcon-QcGOd-Qi.js";import{m as B}from"./mixinVeeValidate-DrZ3urGW.js";import{M as U}from"./mixinFullScreenLoading-S7MBERzv.js";import{L as q}from"./LaunchNav-yL1oIUyL.js";import{M as N}from"./MessageIcon-kWBpya7B.js";import{S as E}from"./StarFull-8eXdRAiC.js";import"./sweetalert2.all-5piKeY6q.js";const H=I("dateStore",{actions:{minDay(){const{launchData:e}=p();let s;e.proposalStartTime?s=new Date(e.proposalStartTime):s=new Date,s.setDate(s.getDate()+7);const h=s.getFullYear(),u=String(s.getMonth()+1).padStart(2,"0"),_=String(s.getDate()).padStart(2,"0");return`${h}-${u}-${_}`}}}),j={},A={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none"},z=a("path",{d:"M6.94531 13.4469L18.8815 1.51074M18.8815 9.46819V1.97964C18.8815 1.72067 18.6716 1.51074 18.4126 1.51074H10.924",stroke:"#258794","stroke-width":"2.17021","stroke-linecap":"round"},null,-1),G=a("path",{d:"M5.5745 1.51074H1.52344V18.8724H18.8851V14.532",stroke:"#258794","stroke-width":"2.17021","stroke-linecap":"round"},null,-1),P=[z,G];function W(e,s){return y(),v("svg",A,P)}const J=b(j,[["render",W]]),O="/DreamBoost/images/logoWhite.png",Y={mixins:[$,B,U],methods:{...m(p,["getLaunch"]),...m(T,["postCheckToken"]),...m(H,["minDay"]),async imageHandler(e){this.showFullScreenLoading();const s=await this.uploadImage(e);s&&(this.launchData.proposalMainImage=s),this.hideFullScreenLoading()}},computed:{...C(p,["launchData","launchState"])},async mounted(){this.showFullScreenLoading(),this.postCheckToken();const e=sessionStorage.getItem("launchID");e&&(await this.getLaunch(e),this.launchState="put"),this.hideFullScreenLoading()},components:{LaunchNav:q,ShareIcon:J,MessageIcon:N,StarFull:E,CameraIcon:L}},K={class:"container mb-26"},Q={class:"col-xl-8 mx-auto"},R={class:"col-12 mb-10"},X=a("div",{class:"mb-2"},[a("label",{for:"file",class:"form-label mb-0 text-gray-800 fs-5 fw-normal"},[o(" 專案封面 "),a("span",{class:"text-danger"}," * ")])],-1),Z=a("p",{class:"mb-0 fs-6"}," 請提供 JPEG 或 PNG 檔，圖片尺寸至少 1200x 800 px (3:2)； 2MB 以內。 ",-1),aa={style:{width:"20px","margin-top":"-2px"}},ea={class:"col-12 mb-11"},sa={class:"row gy-3"},ta={class:"col-md-6 col-lg-3"},oa=a("label",{for:"start-date",class:"form-label lh-md"},[o(" 專案開始時間 "),a("span",{class:"text-danger"}," * ")],-1),la={class:"col-md-6 col-lg-3"},na=a("label",{for:"end-date",class:"form-label lh-md"},[o(" 專案結束時間 "),a("span",{class:"text-danger"}," * ")],-1),ia=a("div",{class:"col-lg-6"},[a("p",{class:"py-7 px-4 bg-bgc-paper fs-6 rounded-4 mb-0 lh-sm"}," 專案提交後需要七個工作天進行內容檢視，所以開始時間至少為 7 天後。募資天數最短為 7 天，最長為 60 天。系統預設募資開始時間為 12:00，結束時間為 23:59:59，如需調整請於提交後與您的專案經理討論。 ")],-1),ra={class:"col-md-5 align-self-start"},da={class:"mb-7"},ca=a("label",{for:"title",class:"form-label lh-md lterSpc-2"},[o(" 專案標題 "),a("span",{class:"text-danger"}," * ")],-1),ma={class:"mb-7"},pa=a("label",{for:"category",class:"form-label lh-md lterSpc-2"},[o(" 專案類別 "),a("span",{class:"text-danger"}," * ")],-1),ha=a("option",{value:"",disabled:"",selected:""},"請選擇一種類別",-1),ua=a("option",{value:"挺好夢"},"挺好夢",-1),_a=a("option",{value:"科技設計"},"科技設計",-1),ga=a("option",{value:"健康生活"},"健康生活",-1),fa=a("option",{value:"時尚"},"時尚",-1),ba=a("option",{value:"公共在地"},"公共在地",-1),ya=a("option",{value:"美妝"},"美妝",-1),va={class:"mb-7"},xa=a("label",{for:"target",class:"form-label lh-md lterSpc-2"},[o(" 募資目標 "),a("span",{class:"text-danger"}," * ")],-1),Sa=a("p",{class:"fs-6 mb-0 text-gray-500"}," 募資目標金額最低為 $5,000 元。設定目標金額時，除了考量專案執行的成本支出外，也必須考慮回饋項目的成本，總體而言必須滿足「最低計畫可執行資金」的門檻，才是合理的募資目標。 ",-1),wa={class:"mb-7"},Da=a("label",{for:"summary",class:"form-label lh-md lterSpc-2"},[o(" 內容摘要 "),a("span",{class:"text-danger"}," * ")],-1),Va={class:"col-md-6 mx-auto"},ka=a("p",{class:"mb-7"},"專案卡片預覽",-1),Ma={class:"card py-9 px-7 mb-16 border-2 border-primary"},Ia=["src"],Ca={class:"card-body p-0"},Fa={class:"d-block mb-1 fs-6 text-primary"},Ta={class:"card-title mb-7 fs-5 fw-semibold text-gray-700"},$a=a("h4",{class:"d-flex align-items-center gap-3 mb-7 fw-normal text-gray-600 fs-5"},[a("span",{class:"d-flex justify-content-center align-items-center bg-primary rounded-circle",style:{width:"35px",height:"35px"}},[a("img",{src:O,class:"img-fluid",alt:"DreamBoost Logo"})]),o(" 發起人：Andrea Blanchard ")],-1),La=a("div",{class:"progress bg-secondary-light mb-7 rounded-pill",role:"progressbar","aria-label":"Basic example","aria-valuenow":"80","aria-valuemin":"0","aria-valuemax":"100",style:{height:"10px",width:"100%"}},[a("div",{class:"progress-bar text-white bg-primary-dark rounded-pill",style:{width:"80%"}})],-1),Ba={class:"d-flex justify-content-between align-items-center"},Ua=a("p",{class:"mb-0 fs-5"},[o(" 已募資 "),a("span",{class:"fw-bold text-danger mb-0"},"80%")],-1),qa={class:"d-flex align-items-center gap-3"},Na={class:"d-flex gap-1"},Ea={class:"d-block text-primary",style:{width:"13px","margin-top":"-1px"}},Ha={class:"d-flex gap-1"},ja={class:"d-block text-secondary-dark",style:{width:"15px","margin-top":"-2px"}},Aa={class:"d-block",style:{width:"20px"}},za=a("button",{type:"submit",class:"btn btn-primary w-100"},"下一步",-1);function Ga(e,s,h,u,_,x){const S=i("LaunchNav"),w=i("CameraIcon"),d=i("VField"),c=i("ErrorMessage"),D=i("MessageIcon"),V=i("StarFull"),k=i("ShareIcon"),M=i("VForm");return y(),v(F,null,[t(S,{"current-page":"專案大綱"}),a("main",K,[a("div",Q,[t(M,{class:"row align-items-center",onSubmit:s[6]||(s[6]=n=>e.$router.push("/launch/content"))},{default:g(({errors:n})=>[a("div",R,[X,Z,a("label",{for:"file",class:r(["btn btn-primary-light d-flex justify-content-center align-items-center gap-2 text-gray-700 fs-6 rounded-0",{"border-danger":n.圖片上傳}])},[a("i",aa,[t(w)]),o(" 上傳封面照片 ")],2),t(d,{type:"file",id:"file",name:"圖片上傳",class:r(["form-control d-none",{"is-invalid":n.圖片上傳}]),rules:"image|required",onChange:x.imageHandler},null,8,["class","onChange"]),t(c,{class:"invalid-feedback",name:"圖片上傳"})]),a("div",ea,[a("div",sa,[a("div",ta,[oa,t(d,{type:"date",id:"start-date",name:"開始時間",class:r(["form-control py-3",{"is-invalid":n.開始時間}]),modelValue:e.launchData.proposalStartTime,"onUpdate:modelValue":s[0]||(s[0]=l=>e.launchData.proposalStartTime=l),rules:"required",min:e.minDay()},null,8,["class","modelValue","min"]),t(c,{class:"invalid-feedback",name:"開始時間"})]),a("div",la,[na,t(d,{type:"date",id:"end-date",name:"結束時間",class:r(["form-control py-3",{"is-invalid":n.結束時間}]),modelValue:e.launchData.proposalEndTime,"onUpdate:modelValue":s[1]||(s[1]=l=>e.launchData.proposalEndTime=l),rules:"required",disabled:!e.launchData.proposalStartTime,min:e.minDay()},null,8,["class","modelValue","disabled","min"]),t(c,{class:"invalid-feedback",name:"結束時間"})]),ia])]),a("div",ra,[a("div",da,[ca,t(d,{type:"text",id:"title",name:"標題",placeholder:"40個字以內的標題",class:r(["form-control py-3 fs-6",{"is-invalid":n.標題}]),modelValue:e.launchData.proposalTitle,"onUpdate:modelValue":s[2]||(s[2]=l=>e.launchData.proposalTitle=l),rules:"required"},null,8,["class","modelValue"]),t(c,{class:"invalid-feedback",name:"標題"})]),a("div",ma,[pa,t(d,{id:"category",name:"類別",class:r(["form-select py-3 fs-6",{"is-invalid":n.類別}]),modelValue:e.launchData.proposalCategory,"onUpdate:modelValue":s[3]||(s[3]=l=>e.launchData.proposalCategory=l),rules:"required",as:"select"},{default:g(()=>[ha,ua,_a,ga,fa,ba,ya]),_:2},1032,["class","modelValue"]),t(c,{class:"invalid-feedback",name:"類別"})]),a("div",va,[xa,t(d,{type:"number",id:"target",name:"募資目標",class:r(["form-control mb-2 py-3 fs-6",{"is-invalid":n.募資目標}]),modelValue:e.launchData.proposalTargetMoney,"onUpdate:modelValue":s[4]||(s[4]=l=>e.launchData.proposalTargetMoney=l),rules:"required|min_value:5000",placeholder:"5000",min:"5000"},null,8,["class","modelValue"]),t(c,{class:"invalid-feedback",name:"募資目標"}),Sa]),a("div",wa,[Da,t(d,{id:"summary",name:"內容摘要",class:r(["form-control py-3 fs-6",{"is-invalid":n.內容摘要}]),modelValue:e.launchData.proposalSummary,"onUpdate:modelValue":s[5]||(s[5]=l=>e.launchData.proposalSummary=l),rules:"required|max:65",as:"textarea",placeholder:"請在65個字以內簡短描述專案內容，吸引瀏覽者點擊你的專案",rows:"6"},null,8,["class","modelValue"]),t(c,{class:"invalid-feedback",name:"內容摘要"})])]),a("div",Va,[ka,a("div",Ma,[a("img",{src:e.launchData.proposalMainImage||"https://fakeimg.pl/350x250",class:"card-img-top object-fit-cover rounded-2 mb-12",alt:"卡片預覽的圖片",style:{height:"250px"}},null,8,Ia),a("div",Ca,[a("span",Fa,"# "+f(e.launchData.proposalCategory||"類別"),1),a("h3",Ta,f(e.launchData.proposalTitle||"產品名稱"),1),$a,La,a("div",Ba,[Ua,a("div",qa,[a("span",Na,[o("11 "),a("i",Ea,[t(D)])]),a("span",Ha,[o(" 18 "),a("i",ja,[t(V)])])]),a("i",Aa,[t(k)])])])]),za])]),_:1})])])],64)}const ae=b(Y,[["render",Ga]]);export{ae as default};
