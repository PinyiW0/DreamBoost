import{q as C,_ as F,k as y,m as U,u as $,c as d,a as s,b as o,t as u,w as g,l as I,e as n,r as f,o as m,s as r,A as N,v as p,B as h,D as A,F as L,d as q,G as k}from"./index-BZc22EMt.js";import{e as B}from"./exploreStore-TbBLzvuV.js";import{s as V}from"./sweetAlert2Store-ECsMRjWe.js";import{m as M}from"./mixinFullScreenLoading-9dNja2ki.js";import{m as E}from"./mixinVeeValidate-n69Zgqgw.js";import{P as O}from"./PlanCard-dkDIDMuB.js";import"./CheckIcon-c5DJdfY2.js";import"./RightArrow-v5SHS_9o.js";import"./StarHollow-rLwQQg73.js";import"./StarFull-x0bLjp4c.js";var j={VITE_URL:"https://api.dreamboost.shop",BASE_URL:"/DreamBoost/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{successAlert:R}=V(),{VITE_URL:G}=j,D=C("transactionsStore",{state:()=>({transactionsData:{transactionProposalID:"",transactionFeedbackID:"",transactionTime:new Date().getTime(),transactionShipMethod:"黑喵宅急便",transactionStatus:"尚未出貨",transactionSponsorName:"",transactionSponsorTelephone:"",transactionrInvoice:"personalticket",transactionCouponCode:"",customizeProperty:{transactionLocation:"main-island"}}}),actions:{async postTransaction(){try{const e=await this.$http.post(`${G}/dreamboost/transaction/normal/transaction`,this.transactionsData);R(`${e.data.message},前往付款畫面`),console.log(e)}catch(e){throw new Error(e)}},setDataId(){this.transactionsData.transactionProposalID=this.$route.params.id,this.transactionsData.transactionFeedbackID=this.$route.params.item}}}),P="/DreamBoost/images/explore/info.svg",W={components:{PlanCard:O},data(){return{feedbacks:Object,tooltipName:"",tooltipPhone:"",test:{proposalFeedbacks:{}},selectedCity:null,cities:["台北市","新北市","桃園市","台中市","台南市","高雄市","基隆市","新竹市","嘉義市","新竹縣","苗栗縣","彰化縣","南投縣","雲林縣","嘉義縣","屏東縣","宜蘭縣","花蓮縣","台東縣","澎湖縣","金門縣","連江縣"]}},mixins:[E,M],methods:{...y(D,["setDataId","postTransaction"]),...y(V,["confirmAlert"]),nextStep(){this.confirmAlert("資料是否正確").then(async e=>{e.isConfirmed&&(this.showFullScreenLoading(),await this.postTransaction(),this.hideFullScreenLoading(),this.$router.push(`/product/${this.$route.params.id}/choose/${this.$route.params.item}/payinfo/cardpay`))})}},mounted(){this.showFullScreenLoading(),setTimeout(()=>{this.hideFullScreenLoading()},800),this.setDataId(),this.tooltipName=new this.$bs.Tooltip(this.$refs.name),this.tooltipPhone=new this.$bs.Tooltip(this.$refs.phone)},computed:{...U(B,["singleFeedback"]),...$(D,["transactionsData"])}},H={class:"container pt-14"},J={class:"row d-flex justify-content-center"},K={class:"col-12 col-lg-4"},Q={class:"mt-8 px-3"},X={class:"d-flex justify-content-between align-items-center mb-4"},Y=s("p",{class:"fs-18 mb-0"},"選項金額",-1),Z={class:"fs-18 mb-0"},ss=I('<div class="d-flex justify-content-between align-items-center mb-4"><p class="fs-18 mb-0">折扣碼優惠</p><p class="fs-18 text-danger mb-0">-(未知)</p></div><div class="d-flex justify-content-between align-items-center mb-4"><p class="fs-18 mb-0">運費：N/A</p><p class="fs-18 text-danger mb-0">+(未知)</p></div>',2),es=s("hr",{class:"border-2 border-gray-700 mb-5"},null,-1),ts={class:"px-3 d-flex justify-content-between align-items-center mb-8"},as=s("h3",{class:"mb-0"},"總金額",-1),os={class:"fs-28 fw-bold text-primary mb-0"},ns={class:"col-12 col-lg-6 ps-lg-10 mt-10 mt-lg-1 mb-15 mb-lg-28"},is=s("h4",{class:"mb-4"},"付款方式",-1),ls=s("h5",{class:"mb-3 fw-medium"},[n(" 信用卡付款 "),s("span",{class:"text-danger"},"*")],-1),rs=s("p",{class:"mb-3"}," 指定信用卡可享 3 期 / 零利率、可用銀聯卡、可用國外卡 ",-1),cs={class:"mb-8"},ds={class:"mb-3"},ms={class:"form-check form-check-inline me-11"},ps=s("label",{class:"form-check-label fs-6 text-gray-500",for:"payoff"}," 一次付清 ",-1),us={class:"form-check form-check-inline"},fs=s("label",{class:"form-check-label fs-6 text-gray-500",for:"installment"}," 分 3 期 ",-1),hs={key:0,class:"d-block invalid-feedback"},bs=s("div",{class:"bg-bgc-paper rounded-3 col-12 mb-6"},[s("p",{class:"fs-6 text-primary-dark px-8 py-4"}," 您了解您的贊助是支持創意專案的一種方式，也了解創意實踐過程中充滿變數，專案不一定能確保回饋。 ")],-1),_s={class:"row d-flex mb-6"},vs={class:"col d-flex flex-column"},ys=s("label",{for:"sponsors",class:"form-label fw-medium"},[n("加碼贊助"),s("span",{class:"text-gray-500"},"（選填）")],-1),gs=s("datalist",{id:"datalistOptions"},[s("option",{value:"100"}),s("option",{value:"200"}),s("option",{value:"500"})],-1),ks={class:"col"},Ds=s("label",{for:"discount",class:"form-label fw-medium"},"請輸入折扣碼",-1),Vs={class:"row mb-6"},Ps={class:"col-6"},ws=s("label",{for:"discount",class:"form-label fw-medium"},"收件地點 ",-1),Ss=s("option",{selected:"",value:"main-island"},"台灣（本島）",-1),Ts=s("option",{value:"outer-lslands"}," 台灣（外島）需付額外運費 ",-1),zs=[Ss,Ts],xs={class:"row flex-column"},Cs={class:"col-6 d-flex"},Fs={class:"col me-2"},Us=s("label",{for:"postal-code",class:"mb-2 fw-medium"},"收件地址",-1),$s={class:"col mt-2"},Is=s("label",{for:"choose-area"},null,-1),Ns=s("option",{selected:"",disabled:"",value:""},"選擇縣市",-1),As=["value"],Ls={class:"col me-2"},qs=s("label",{for:"address",class:"mb-2"},null,-1),Bs={class:"col mb-6"},Ms={for:"addressee",class:"form-label fw-medium position-relative"},Es={class:"text-danger"},Os={type:"button",class:"btn px-1 py-0 border-0",ref:"name","data-bs-toggle":"tooltip-name","data-bs-placement":"right","data-bs-custom-class":"customTooltip","data-bs-title":"寄送贊助回饋使用，若不正確可能造成投遞失敗。"},js=s("span",{class:"",style:{width:"20px"}},[s("img",{src:P,class:"img-fluid",style:{"margin-top":"-6px"},alt:""})],-1),Rs=[js],Gs={class:"col mb-6"},Ws={for:"phone",type:"text",class:"form-label fw-medium"},Hs={class:"text-danger"},Js={type:"button",class:"btn px-1 py-0 border-0",ref:"phone","data-bs-toggle":"tooltip-phone","data-bs-placement":"right","data-bs-custom-class":"customTooltip","data-bs-title":"寄送人聯絡及付款確認使用。請填寫全碼，如 0912123456"},Ks=s("span",{class:"",style:{width:"20px"}},[s("img",{src:P,class:"img-fluid",style:{"margin-top":"-6px"},alt:""})],-1),Qs=[Ks],Xs={class:"col bg-bgc-paper rounded-3 p-6 mb-6"},Ys=s("h5",{class:"mb-3 fw-medium"},[n(" 發票資訊 "),s("span",{class:"text-danger"},"*")],-1),Zs={class:"mb-3"},se={class:"form-check form-check-inline me-11"},ee=s("label",{class:"form-check-label fs-6 text-gray-500",for:"personalticket"}," 個人發票 ",-1),te={class:"form-check form-check-inline"},ae=s("label",{class:"form-check-label fs-6 text-gray-500",for:"bsticket"}," 公司發票 ",-1),oe={key:0,class:"col-6"},ne=s("label",{for:"phoneticket",class:"form-label fs-6"},[n(" 手機載具 "),s("span",{class:"text-danger"}," * ")],-1),ie={key:1,class:"row"},le={class:"col-6"},re=s("label",{for:"compiled",class:"form-label fs-6"},[n(" 統一編號 "),s("span",{class:"text-danger"}," * ")],-1),ce={class:"col-6"},de=s("label",{for:"bsname",class:"form-label fs-6"},[n(" 發票抬頭 "),s("span",{class:"text-danger"}," * ")],-1),me={class:"col mb-6"},pe=s("h5",null,[n("備註"),s("span",{class:"text-gray-500"},"（選填）")],-1),ue={class:"form-floating"},fe=s("label",{for:"floatingTextarea"},"請留言",-1),he=s("div",{class:"form-check mb-8"},[s("input",{class:"form-check-input",type:"checkbox",value:"",id:"agreement",checked:""}),s("label",{class:"form-check-label text-primary fs-6",for:"agreement"}," 我已閱讀並同意 DreamBoost 服務條款與隱私權政策 ")],-1),be={type:"submit",class:"btn btn-primary mb-9 col-12 col-lg-7"},_e=s("p",{class:"fs-6 text-gray-500"},[n(" 提案人有權決定是否接受贊助。"),s("br"),n(" 如提案人因故決定不接受贊助，將會取消贊助並主動退還贊助款項。 ")],-1);function ve(e,a,ye,ge,w,S){var b,_;const T=f("PlanCard"),l=f("VField"),c=f("ErrorMessage"),z=f("VForm");return m(),d("main",null,[s("section",H,[s("div",J,[s("div",K,[o(T,{feedbacks:e.singleFeedback,"feedback-payment":!0},null,8,["feedbacks"]),s("div",Q,[s("div",X,[Y,s("p",Z," NT$ "+u((b=e.singleFeedback)==null?void 0:b.feedbackSettingMoney),1)]),ss]),es,s("div",ts,[as,s("p",os," NT$ "+u((_=e.singleFeedback)==null?void 0:_.feedbackSettingMoney),1)])]),s("div",ns,[is,ls,rs,o(z,{onSubmit:S.nextStep,ref:"form"},{default:g(({errors:i})=>{var v;return[s("div",cs,[s("div",ds,[s("div",ms,[o(l,{type:"radio",id:"payoff",name:"payment",class:r(["form-check-input",{"is-invalid":i.payment}]),modelValue:e.transactionsData.customizeProperty.transactionPayment,"onUpdate:modelValue":a[0]||(a[0]=t=>e.transactionsData.customizeProperty.transactionPayment=t),rules:"required",value:"一次付清"},null,8,["class","modelValue"]),ps]),s("div",us,[o(l,{type:"radio",id:"installment",name:"payment",class:r(["form-check-input",{"is-invalid":i.payment}]),modelValue:e.transactionsData.customizeProperty.transactionPayment,"onUpdate:modelValue":a[1]||(a[1]=t=>e.transactionsData.customizeProperty.transactionPayment=t),rules:"required",value:"分3期"},null,8,["class","modelValue"]),fs]),i.payment?(m(),d("span",hs,"付款方式 為必填")):N("",!0)]),bs,s("div",_s,[s("div",vs,[ys,p(s("input",{id:"sponsors",class:"form-control fs-6 border-primary-light",placeholder:"小小金額是大大的肯定",list:"datalistOptions","onUpdate:modelValue":a[2]||(a[2]=t=>e.transactionsData.customizeProperty.transactionBonus=t)},null,512),[[h,e.transactionsData.customizeProperty.transactionBonus]]),gs]),s("div",ks,[Ds,p(s("input",{id:"sponsors",class:"form-control fs-6 border-primary-light","onUpdate:modelValue":a[3]||(a[3]=t=>e.transactionsData.transactionCouponCode=t)},null,512),[[h,e.transactionsData.transactionCouponCode]])])]),s("div",Vs,[s("div",Ps,[ws,p(s("select",{class:"form-select border-primary-light fs-6 text-gray-500","aria-label":"inTwOrOut","onUpdate:modelValue":a[4]||(a[4]=t=>e.transactionsData.customizeProperty.transactionLocation=t)},zs,512),[[A,e.transactionsData.customizeProperty.transactionLocation]])])]),s("div",xs,[s("div",Cs,[s("div",Fs,[Us,o(l,{type:"number",id:"area-num",name:"郵遞區號",class:r(["form-control fs-6",{"is-invalid":i.郵遞區號}]),modelValue:e.transactionsData.customizeProperty.receiverAreaCode,"onUpdate:modelValue":a[5]||(a[5]=t=>e.transactionsData.customizeProperty.receiverAreaCode=t),rules:"required",placeholder:"郵遞區號"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"郵遞區號"})]),s("div",$s,[Is,o(l,{id:"area",name:"選擇縣市",class:r(["form-select fs-6 text-gray-500",{"is-invalid":i.選擇縣市}]),modelValue:e.transactionsData.customizeProperty.receiverCity,"onUpdate:modelValue":a[6]||(a[6]=t=>e.transactionsData.customizeProperty.receiverCity=t),rules:"required",as:"select"},{default:g(()=>[Ns,(m(!0),d(L,null,q(w.cities,(t,x)=>(m(),d("option",{key:x,value:t},u(t),9,As))),128))]),_:2},1032,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"選擇縣市"})])]),s("div",Ls,[qs,o(l,{type:"text",id:"address",name:"地址",class:r(["form-control fs-6",{"is-invalid":i.地址}]),modelValue:e.transactionsData.customizeProperty.receiverAddress,"onUpdate:modelValue":a[7]||(a[7]=t=>e.transactionsData.customizeProperty.receiverAddress=t),rules:"required",placeholder:"請輸入正確地址以免造成您的權益受損"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"地址"})])]),s("div",Bs,[s("label",Ms,[n(" 收件人姓名 "),s("span",Es,[n("* "),s("button",Os,Rs,512)])]),o(l,{type:"text",id:"name",name:"姓名",class:r(["form-control fs-6",{"is-invalid":i.姓名}]),modelValue:e.transactionsData.transactionSponsorName,"onUpdate:modelValue":a[8]||(a[8]=t=>e.transactionsData.transactionSponsorName=t),rules:"required",placeholder:"請輸入真實姓名"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"姓名"})]),s("div",Gs,[s("label",Ws,[n(" 行動電話 "),s("span",Hs,[n("* "),s("button",Js,Qs,512)])]),o(l,{type:"tel",id:"phone",name:"行動電話",class:r(["form-control fs-6",{"is-invalid":i.行動電話}]),modelValue:e.transactionsData.transactionSponsorTelephone,"onUpdate:modelValue":a[9]||(a[9]=t=>e.transactionsData.transactionSponsorTelephone=t),rules:"required",placeholder:"請輸入聯絡電話"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"行動電話"})]),s("div",Xs,[Ys,s("div",Zs,[s("div",se,[p(s("input",{type:"radio",id:"personalticket",name:"invoice",class:"form-check-input","onUpdate:modelValue":a[10]||(a[10]=t=>e.transactionsData.transactionrInvoice=t),value:"personalticket"},null,512),[[k,e.transactionsData.transactionrInvoice]]),ee]),s("div",te,[p(s("input",{type:"radio",id:"bsticket",name:"invoice",class:"form-check-input","onUpdate:modelValue":a[11]||(a[11]=t=>e.transactionsData.transactionrInvoice=t),value:"bsticket"},null,512),[[k,e.transactionsData.transactionrInvoice]]),ae])]),e.transactionsData.transactionrInvoice==="personalticket"?(m(),d("div",oe,[ne,o(l,{id:"phoneticket",name:"手機載具",class:r(["form-control fs-6",{"is-invalid":i.手機載具}]),modelValue:e.transactionsData.customizeProperty.cloudInvoice,"onUpdate:modelValue":a[12]||(a[12]=t=>e.transactionsData.customizeProperty.cloudInvoice=t),rules:"required",placeholder:"例：/AB1CD23"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"手機載具"})])):(m(),d("div",ie,[s("div",le,[re,o(l,{id:"compiled",name:"統一編號",class:r(["form-control fs-6",{"is-invalid":i.統一編號}]),modelValue:e.transactionsData.customizeProperty.VATNumber,"onUpdate:modelValue":a[13]||(a[13]=t=>e.transactionsData.customizeProperty.VATNumber=t),rules:"required",placeholder:"例：12345678"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"統一編號"})]),s("div",ce,[de,o(l,{id:"bsname",name:"發票抬頭",class:r(["form-control fs-6",{"is-invalid":i.發票抬頭}]),modelValue:e.transactionsData.customizeProperty.invoiceTitle,"onUpdate:modelValue":a[14]||(a[14]=t=>e.transactionsData.customizeProperty.invoiceTitle=t),rules:"required",placeholder:"組織名稱"},null,8,["class","modelValue"]),o(c,{class:"invalid-feedback",name:"發票抬頭"})])]))]),s("div",me,[pe,s("div",ue,[p(s("textarea",{id:"floatingTextarea",class:"form-control","onUpdate:modelValue":a[15]||(a[15]=t=>e.transactionsData.customizeProperty.transactionNote=t),placeholder:"Leave a comment here"},null,512),[[h,e.transactionsData.customizeProperty.transactionNote]]),fe])])]),he,s("button",be,[n(" 立即贊助"),s("span",null,"NT$"+u((v=e.singleFeedback)==null?void 0:v.feedbackSettingMoney),1)]),_e]}),_:1},8,["onSubmit"])])])])])}const Fe=F(W,[["render",ve]]);export{Fe as default};
